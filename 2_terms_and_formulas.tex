\section{Términos y fórmulas}

  % Lemma 119. Con prueba. Lemma 29.
  \begin{lemma} \label{lemma_29}
    \PN Supongamos $t \in T_{k}^{\tau}$, con $k \geq 1$, entonces ya sea $t \in Var \cup \mathcal{C}$ ó $t = f(t_{1},
    \dotsc, t_{n})$, con $f \in \mathcal{F}_{n}, n \geq 1, \; t_{1}, \dotsc, t_{n} \in T_{k-1}^{\tau}$.
  \end{lemma}
  \begin{proof}
    \PN Probaremos este teorema por inducción en $k$.

    \vspace{3mm}
    \PN \underline{Caso Base:} \begin{tabular}{|c|} \hline $k = 1$ \\\hline \end{tabular} Es directo, ya que por
    definición:
    \[
      T_{1}^{\tau} = Var \cup \mathcal{C} \cup \{f(t_{1}, t_{2}, \dotsc t_{n}): f \in \mathcal{F}_n, n \geq 1, t_{1},
      t_{2}, \dotsc t_{n} \in T_{0}^{\tau}\}
    \]

		\PN \underline{Caso Inductivo:} \begin{tabular}{|c|} \hline $k > 1$ \\\hline \end{tabular} Sea $t \in
    T_{k+1}^{\tau}$. Por definición de $ T_{k+1}^{\tau}$ tenemos que:
    \begin{itemize}
      \item $t \in T_{k}^{\tau}$ ó
      \item $t = f(t_{1}, \dotsc, t_{n})$ con $f \in \mathcal{F}_{n}, n \geq 1$ y $t_{1}, \dotsc, t_{n}\in T_{k}^{\tau}$.
    \end{itemize}

    \PN Si se da que $t \in T_{k}^{\tau}$, entonces podemos aplicar hipótesis inductiva y usar que $T_{k-1}^{\tau}
    \subseteq T_{k}^{\tau}$.
  \end{proof}

  % Lemma 120. Con prueba. Lemma 30.
  \begin{lemma} \label{lemma_30}
    \PN Sea $b \in Bal$. Se tiene:
    \begin{enumerate}[(1)]
      \item $\lvert b \rvert_{(} - \lvert b \rvert_{)} = 0$
      \item Si $x$ es tramo inicial propio de $b$, entonces $\lvert x \rvert_{(} - \lvert x \rvert_{)} > 0$
      \item Si $x$ es tramo final propio de $b$, entonces $\lvert x \rvert_{(} - \lvert x \rvert_{)} < 0$
    \end{enumerate}
  \end{lemma}
  \begin{proof}
    \PN Probaremos por inducción en $k$, que valen (1), (2) y (3) para cada $b \in Bal_{k}$.

    \vspace{3mm}
    \PN \underline{Caso Base:} \begin{tabular}{|c|} \hline $k = 1$ \\\hline \end{tabular}
    \begin{enumerate}[(1)]
      \item $Bal_{1} = \{()\}$. Luego, $\lvert b \rvert_{(} = \lvert b \rvert_{)} = 1$. Por lo tanto, $\lvert b
       \rvert_{(} - \lvert b \rvert_{)} = 0$.
      \item Supongamos x tramo inicial propio de b. Luego $x = ($, es decir, $\lvert x \rvert_{(} = 1$ y $\lvert x
      \rvert_{)} = 0$. Por lo tanto, $\lvert x \rvert_{(} - \lvert x \rvert_{)} > 0$.
      \item Supongamos x tramo final propio de b. Luego $x = )$, es decir, $\lvert x \rvert_{(} = 0$ y $\lvert x
      \rvert_{)} = 1$. Por lo tanto, $\lvert x \rvert_{(} - \lvert x \rvert_{)} < 0$.
    \end{enumerate}

  	\PN \underline{Caso Inductivo:} \begin{tabular}{|c|} \hline $k > 1$ \\\hline \end{tabular} Supongamos $b \in
    Bal_{k+1}$. Si $b \in Bal_{k}$, se aplica directamente HI para cualquiera de los casos. Supongamos entonces que
    $b = (b_{1} \dotsc b_{n})$, con $b_{1}, \dotsc, b_{n} \in Bal_{k}, n \geq 1$.

    \begin{enumerate}[(1)]
      \item Por HI, $b_{1}, \dotsc, b_{n}$ satifacen $\lvert b \rvert_{(} - \lvert b \rvert_{)} = 0$. Luego, $(b_{1},
        \dotsc, b_{n})$ también satisface, es decir, al agregar un paréntesis de cada tipo, el balanceo se mantiene.

      \item Sea $x$ un tramo inicial propio de $b$. Notese que $x$ es de la forma $x = (b_{1} \dotsc b_{i} y$ con
        $0 \leq i \leq n-1$ y $y$ un tramo inicial de $b_{i+1}$, pero entonces:
        \[
          \lvert x \rvert_{(} - \lvert x \rvert_{)} = 1 + \left(\sum_{j=1}^{i} \lvert b_{j} \rvert_{(} - \lvert b_{j}
          \rvert_{)}\right) + \lvert y \rvert_{(} - \lvert y \rvert_{)}
        \]
      tenemos que por HI, se da que $\lvert x \rvert_{(} - \lvert x \rvert_{)} > 0$.

      \item Sea $x$ un tramo final propio de $b$. Notese que $x$ es de la forma $x = y b_{1} \dotsc b_{i})$ con
        $1 \leq i \leq n$ y $y$ un tramo final de $b_{i+1}$, pero entonces:
        \[
          \lvert x \rvert_{(} - \lvert x \rvert_{)} = \lvert y \rvert_{(} - \lvert y \rvert_{)} + \left(\sum_{j=1}^{i}
          \lvert b_{j} \rvert_{(} - \lvert b_{j} \rvert_{)}\right) + 1
        \]
      tenemos que por HI, se da que $\lvert x \rvert_{(} - \lvert x \rvert_{)} < 0$.
    \end{enumerate}
  \end{proof}

  % Lemma 121. Sin prueba. Lemma 31.
  \begin{lemma} \label{lemma_31}
    \PN $del(xy) = del(x)del(y) \ \forall x, y \in \SIGMA$.
  \end{lemma}

  % Lemma 122. Sin prueba. Lemma 32.
  \begin{lemma} \label{lemma_32}
    \PN Supongamos que $\Sigma$ es tal que $\TAU \subseteq \SIGMA$, entonces $del(t) \in Bal$, para cada $t \in \TAU -
    (Var \cup \mathcal{C})$.
  \end{lemma}

  % Lemma 123. Con prueba. Lemma 33.
  \begin{lemma} \label{lemma_33}
    \PN Sean $s, t \in \TAU$ y supongamos que hay palabras $x,y,z$, con $y \neq \varepsilon$ tales que $s = xy$ y
    $t = yz$, entonces $x = z = \varepsilon$ ó $s, t \in \mathcal{C}$. En particular, si un término es tramo inicial o
    final de otro término, entonces dichos términos son iguales.
  \end{lemma}
  \begin{proof}
    \begin{itemize}
      \item \underline{Supongamos $s \in \mathcal{C}$}: Ya que $y \neq \varepsilon$ tenemos que $t$ debe comenzar con un
        símbolo que ocurre en un nombre de constante, lo cual dice que $t$ no puede ser ni una variable ni de la forma
        $g(t_{1}, \dotsc, t_{m})$, es decir $t \in \mathcal{C}$.

      \item \underline{Supongamos $s \in Var$}: Si sucediese que $x \neq \varepsilon$, $t$ comenzaría con alguno de los
        siguientes símbolos:
        \[
          \mathit{0} \ \mathit{1} \ \dotsc \ \mathit{9} \ \mathbf{0} \ \mathbf{1} \ \dotsc \ \mathbf{9}
        \]
        \PN lo cual es absurdo. Luego, $x = \varepsilon$ y por lo tanto $t$ debe comenzar con $\mathsf{X}$, pero esto
        dice que $t \in Var$ de lo que sigue que $z = \varepsilon$.

      \item \underline{Supongamos que $s$ es de la forma $f(s_{1}, \dotsc, s_{n})$}: Ya que $)$ debe ocurrir en $t$,
        tenemos que $t$ es de la forma $g(t_{1}, \dotsc, t_{m})$, osea que $del(s), del(t) \in Bal$. Ya que $)$ ocurre
        en $y$, $del(y) \neq \varepsilon$. Tenemos también que:
        \begin{eqnarray*}
          del(s) &=& del(x)del(y) \\
          del(t) &=& del(y)del(z)
        \end{eqnarray*}

        \PN Utilizando el \textbf{Lemma~\ref{lemma_30}} obtenemos que:
        \begin{eqnarray*}
          1) \ \lvert del(y) \rvert_{(} - \lvert del(y) \rvert_{)} \leq 0 \\
          2) \ \lvert del(y) \rvert_{(} - \lvert del(y) \rvert_{)} \geq 0
        \end{eqnarray*}
        \PN por lo cual:
        \[
          \lvert del(y) \rvert_{(} - \lvert del(y) \rvert_{)} = 0
        \]
        \PN pero entonces ya que $del(y)$ es tramo final de $del(s)$, el \textbf{Lemma~\ref{lemma_30}} nos dice que
        $del(x) = \varepsilon$. De la misma manera, obtenemos que $del(z) = \varepsilon$. Ya que que $t$ termina con $)$
        tenemos que $z = \varepsilon$, osea que $f(s_{1}, \dotsc, s_{n}) = xg(t_{1}, \dotsc, t_{m})$ con $del(x) =
        \varepsilon$, de lo que se desprende que $f=xg$ ya que $($ no ocurre en $x$. Finalmente, de la definición de
        tipo se desprende que $x = \varepsilon$.
    \end{itemize}
  \end{proof}

  % Theorem 124. Con prueba. Lemma 34.
  \begin{theorem} \label{lemma_34}
    \PN \textbf{(Lectura única de terminos)}. Dado $t \in \TAU$ se da una de las siguientes:
    \begin{enumerate}[(1)]
      \item $t \in Var \cup \mathcal{C}$
      \item Hay únicos $n \geq 1, \ f \in \mathcal{F}_{n}, \ t_{1}, \dotsc, t_{n} \in \TAU$ tales que $t = f(t_{1},
        \dotsc, t_{n})$.
    \end{enumerate}
  \end{theorem}
  \begin{proof}
    \PN En virtud del \textbf{Lemma~\ref{lemma_29}} solo nos resta probar la unicidad de $t_{1}, \dotsc, t_{n}$ en el
    punto (2). Supongamos que:
    \[
      t = f(t_{1}, \dotsc, t_{n}) = g(s_{1}, \dotsc, s_{m})
    \]
    \PN con $n, m \geq 1, \ f \in \mathcal{F}_{n}, g \in \mathcal{F}_{m}, t_{1}, \dotsc, t_{n}, s_{1}, \dotsc, s_{m} \in
    \TAU$. Notese que $f = g$, es decir, $n = m = a(f)$. Notemos que:
    \begin{itemize}
      \item $t_{1}$ es tramo inicial de $s_{1}$ ó
      \item $s_{1}$ es tramo inicial de $t_{1}$
    \end{itemize}

    \PN En general:
    \begin{itemize}
      \item $t_{i}$ es tramo inicial de $s_{i}$ ó
      \item $s_{i}$ es tramo inicial de $t_{i}$, para $1 \leq i \leq n$.
    \end{itemize}


    \PN lo cual por el \textbf{Lemma~\ref{lemma_33}} nos dice que $t_{i} = s_{i}$ con $1 \leq i \leq n$.
  \end{proof}

  % Lemma 125. Con prueba. Lemma 35.
  \begin{lemma} \label{lemma_35}
    \PN Sean $r, s, t \in \TAU$.
    \begin{enumerate}[(a)]
      \item Si $s \neq t = f(t_{1}, \dotsc, t_{n})$ y $s$ ocurre en $t$, entonces dicha ocurrencia sucede dentro de
        algún $t_{j}$, $j = 1, \dotsc, n$.
      \item Si $r, s$ ocurren en $t$, entonces dichas ocurrencias son disjuntas o una ocurre dentro de otra. En
        particular, las distintas ocurrencias de $r$ en $t$ son disjuntas.
      \item Si $t^{\prime}$ es el resultado de reemplazar una ocurrencia de $s$ en $t$ por $r$, entonces $t^{\prime} \in
        \TAU$.
    \end{enumerate}
  \end{lemma}
  \begin{proof}
    \begin{enumerate}[(a)]
      \item Supongamos la ocurrencia de $s$ comienza en algún $t_{j}$, entonces el \textbf{Lemma~\ref{lemma_33}} nos
      conduce a que dicha ocurrencia debera estar contenida en $t_{j}$. Veamos que la ocurrencia de $s$ no puede ser a
      partir de un $i \in \{1, \dotsc, \lvert f \rvert\}$. Supongamos lo contrario. Tenemos entonces que $s$ debe ser
      de la forma $g(s_{1}, \dotsc,s_{m})$ ya que no puede estar en $Var \cup \mathcal{C}$. Notese que $i\neq 1$ ya que
      en caso contrario $s$ seria un tramo inicial propio de $t$. Pero entonces $g$ debe ser un tramo final propio de $f$,
      lo cual es absurdo. Ya que $s$ no puede comenzar con parentesis o coma, hemos contemplado todos los posibles casos
      de comienzo de la ocurrencia de $s$ en $t$.

      \item Por induccion, usando (a).
      \item Por induccion, usando (a).
    \end{enumerate}
  \end{proof}

  % Lemma 126. Con prueba. Lemma 36.
  \begin{lemma} \label{lemma_36}
    \PN Supongamos $\varphi \in F_{k}^{\tau}$, con $k \geq 1$, entonces $\varphi$ es de alguna de las siguientes formas:
    \begin{itemize}
      \item $\varphi = (t \equiv s)$, con $t, s \in \TAU$.
      \item $\varphi = r(t_{1}, \dotsc, t_{n})$, con $r \in \mathcal{R}_{n}, t_{1}, \dotsc, t_{n} \in \TAU$.
      \item $\varphi = (\varphi_{1} \eta \varphi_{2})$, con $\eta \in \{\wedge, \vee, \rightarrow, \leftrightarrow\}, \
        \varphi_{1}, \varphi_{2} \in F_{k-1}^{\tau}$.
      \item $\varphi = \lnot \varphi_{1}$, con $\varphi_{1} \in F_{k-1}^{\tau}$.
      \item $\varphi = Qv\varphi_{1}$, con $Q \in \{\forall, \exists\}, \ v \in Var$ y $\varphi_{1} \in F_{k-1}^{\tau}$.
    \end{itemize}
    \PN Llamaremos ($\star$) a la lista anterior.
  \end{lemma}
  \begin{proof}
    \PN Probaremos este teorema por inducción en $k$, utilizando la definición del conjunto $\FT$.

    \vspace{3mm}
    \PN \underline{Caso Base:}
    \[
      \varphi \ \in \ \{(t \equiv s): t, s \in \TAU\} \ \cup \ \{r(t_{1}, \dotsc, t_{n}): r \in \mathcal{R}_{n}, n \geq
      1, t_{1}, \dotsc, t_{n} \in \TAU\}
    \]
    \PN por lo que $\varphi$ es de alguna de las siguientes formas:
    \begin{itemize}
      \item $\varphi = (t \equiv s)$, con $t, s \in \TAU$.
      \item $\varphi = r(t_{1}, \dotsc, t_{n})$, con $r \in \mathcal{R}_{n}, t_{1}, \dotsc, t_{n} \in \TAU$.
    \end{itemize}

    \vspace{3mm}
		\PN \underline{Caso Inductivo:} Supongamos que si $\varphi \in F_{k-1}^{\tau}$ entonces $\varphi$ es de alguna de
    las formas de ($\star$). Probaremos que si $\varphi \in F_{k}^{\tau}$ entonces $\varphi$ también es de alguna de las
    formas de la lista ($\star$).
    \begin{eqnarray*}
      \varphi \ \in \ F_{k-1}^{\tau} &\cup& \{\lnot \varphi: \varphi \in F_{k-1}^{\tau}\} \ \cup \ \{(\varphi \eta \psi):
        \varphi, \psi \in F_{k-1}^{\tau}, \eta \in \{\vee, \wedge, \rightarrow, \leftrightarrow\}\} \\
      &\cup& \ \{Qv\varphi: \varphi \in F_{k-1}^{\tau}, v \in Var, Q \in \{\forall, \exists\}\}
    \end{eqnarray*}

    \PN Luego, si $\varphi \in F_{k-1}^{\tau}$ aplicando HI obtenemos que $\varphi$ es de alguna de las formas de la
    lista anterior. Caso contrario, se dá alguna de las siguientes:
    \begin{itemize}
      \item $\varphi = (\varphi_{1} \eta \varphi_{2})$, con $\varphi_{1}, \varphi_{2} \in F_{k-1}^{\tau}, \eta \in
      \{\wedge, \vee, \rightarrow, \leftrightarrow\}$.
      \item $\varphi = \lnot \varphi_{1}$, con $\varphi_{1} \in F_{k-1}^{\tau}$.
      \item $\varphi = Qv\varphi_{1}$, con $Q \in \{\forall, \exists\}, \ v \in Var$ y $\varphi_{1} \in F_{k-1}^{\tau}$.
    \end{itemize}
  \end{proof}

  % Lemma 127. Con prueba. Lemma 37.
  \begin{lemma} \label{lemma_37}
    \PN Sea $\tau$ un tipo.
    \begin{enumerate}[a)]
      \item Supongamos que $\Sigma$ es tal que $\FT \subseteq \SIGMA$, entonces $del(\varphi) \in Bal$, para cada
        $\varphi \in \FT$.
      \item Sea $\varphi \in F_{k}^{\tau}$, con $k \geq 0$, existen $x \in (\{\lnot\} \cup \{Qv: Q \in \{\forall,
        \exists\}, v \in Var\})^{\ast}$ y $\varphi_{1} \in \FT$ tales que $\varphi = x \varphi_{1}$ y
        $\varphi_{1}$ es de la forma $(\psi_{1} \eta \psi_{2})$ o atómica. En particular toda fórmula termina con el
        símbolo $)$.
    \end{enumerate}
  \end{lemma}
  \begin{proof}
    \begin{enumerate}[a)]
      \item HACER!!!!
      \item Induccion en $k$. El caso $k=0$ es trivial. Supongamos (b) vale para cada $\varphi \in F_{k}^{\tau }$ y sea $\varphi \in F_{k+1}^{\tau }$. Hay varios casos de los cuales haremos solo dos
        \begin{itemize}
          \item CASO $\varphi =(\varphi_{1}\eta \varphi_{2})$, con $\varphi_{1},\varphi_{2}\in F_{k}^{\tau }$ y $\eta \in \{\vee ,\wedge ,\rightarrow ,\leftrightarrow \}$.

      Podemos tomar $x=\varepsilon $ y $\varphi_{1}=\varphi $.

          \item CASO $\varphi =Qx_{i}\psi $, con $\psi \in F_{k}^{\tau }$, $i\geq 1$ y $Q\in \{\forall ,\exists \}$.

      Por HI hay $\bar{x}\in (\{\lnot \}\cup \{Qv:Q\in \{\forall ,\exists \}$ y $v\in Var\})^{\ast }$ y $\psi_{1}\in \FT$ tales que $ \psi =x\psi_{1}$ y $\psi_{1}$ es de la forma $(\gamma_{1}\eta \gamma_{2}) $ o atomica. Entonces es claro que $x=Qx_{i}\bar{x}$ y $\varphi_{1}=\psi_{1}$ cumplen (b). $\Box$
      \end{itemize}
    \end{enumerate}
  \end{proof}

  % Lemma 128. Con prueba. Lemma 38.
  \begin{lemma} \label{lemma_38}
    \PN Ninguna fórmula es tramo final propio de una fórmula atómica, es decir, si $\varphi = x \psi$, con $\varphi \in
    F_{0}^{\tau}$ y $\psi \in \FT$, entonces $x = \varepsilon$.
  \end{lemma}
  \begin{proof}
    \begin{itemize}
      \item Si $\varphi$ es de la forma $(t\equiv s)$, entonces $\lvert del(y)\rvert_{(}-\lvert del(y)\rvert_{)}< 0$ para cada tramo final propio $y$ de $\varphi $, lo cual termina el caso ya que $del(\psi )$ es balanceada.
      \item Supongamos entonces $\varphi =r(t_{1}, \dotsc, t_{n})$. Notese que $\psi $ no puede ser tramo final de $t_{1}, \dotsc, t_{n})$ ya que $del(\psi )$ es balanceada y $\lvert del(y)\rvert_{(}-\lvert del(y)\rvert_{)}< 0$ para cada tramo final $y$ de $t_{1}, \dotsc, t_{n})$. Es decir que $\psi =y(t_{1}, \dotsc, t_{n})$, para algun tramo final $y$ de $r$. Ya que en $\psi $ no ocurren cuantificadores ni nexos ni el simbolo $\equiv $ el Lema 124 nos dice $\psi =\tilde{r}(s_{1}, \dotsc,s_{m})$, con $ \tilde{r}\in \mathcal{R}_{m}$, $m\geq 1$ y $s_{1}, \dotsc,s_{m}\in \TAU$. Ahora es facil usando un argumento paresido al usado en la prueba del Teorema 122 concluir que $m=n$, $s_{i}=t_{i}$, $ i=1, \dotsc,n$ y $\tilde{r}$ es tramo final de $r$. Por (3) de la definicion de tipo tenemos que $\tilde{r}=r$ lo cual nos dice que $\varphi =\psi $ y $ x=\varepsilon $ $\Box$
    \end{itemize}
  \end{proof}

  % Lemma 129. Con prueba. Lemma 39.
  \begin{lemma} \label{lemma_39}
    \PN Si $\varphi = x \psi$, con $\varphi, \psi \in \FT$ y $x$ sin paréntesis, entonces $x \in (\{\lnot\} \cup
    \{Qv: Q \in \{\forall, \exists\}$ y $v \in Var\})^{\ast}$.
  \end{lemma}
  \begin{proof}
    \PN Probaremos por inducción en k, tal que $\varphi \in F_{k}^{\tau}$.

    \vspace{3mm}
    \PN \underline{Caso Base:}
    El caso $k=0$ es probado en el lema anterior.

    \vspace{3mm}
		\PN \underline{Caso Inductivo:} Asumamos que el resultado vale cuando $ \varphi \in F_{k}^{\tau }$ y veamos que vale cuando $\varphi \in F_{k+1}^{\tau }$. Mas aun supongamos $\varphi \in F_{k+1}^{\tau }-F_{k}^{\tau }$. Primero haremos el caso en que $\varphi =Qv\varphi_{1}$, con $Q\in \{\forall ,\exists \},\;v\in Var$ y $\varphi_{1}\in F_{k}^{\tau }$ . Supongamos $x\neq \varepsilon $. Ya que $\psi $ no comienza con simbolos de $v$, tenemos que $\psi $ debe ser tramo final de $\varphi_{1}$ lo cual nos dice que hay una palabra $x_{1}$ tal que $x=Qvx_{1}$ y $\varphi_{1}=x_{1}\psi $. Por HI tenemos que $x_{1}\in (\{\lnot \}\cup \{Qv:Q\in \{\forall ,\exists \}$ y $v\in Var\})^{\ast }$ con lo cual $x\in (\{\lnot \}\cup \{Qv:Q\in \{\forall ,\exists \}$ y $v\in Var\})^{\ast }$. El caso en el que $\varphi =\lnot \varphi_{1}$ con $\varphi_{1}\in F_{k}^{\tau }$, es similar. Note que no hay mas casos posibles ya que $\varphi $ no puede comenzar con $($ porque en $x$ no ocurren parentesis por hipotesis $\Box$
  \end{proof}

  % Proposition 130. Con prueba. Lemma 40.
  \begin{proposition} \label{lemma_40}
    \PN Si $\varphi, \psi \in \FT$ y $x, y, z$ son tales que $\varphi = xy, \psi = yz$ y $y \neq \varepsilon$, entonces
    $z = \varepsilon$ y $x \in (\{\lnot\} \cup \{Qv: Q \in \{\forall, \exists\}$ y $v \in Var\})^{\ast}$. En particular
    ningún tramo inicial propio de una fórmula es una fórmula.
  \end{proposition}
  \begin{proof}
    Ya que $\varphi $ termina con $)$ tenemos que $del(y)\neq \varepsilon .$ Ya que $del(\varphi ),del(\psi )\in Bal$ y ademas

    \begin{eqnarray*}
      del(\varphi) &=& del(x)del(y) \\
      del(\psi) &=& del(y)del(z)
    \end{eqnarray*}
    \PN tenemos que $del(y)$ es tramo inicial y final de palabras balanceadas, lo cual nos dice que
    $\displaystyle \lvert del(y)\rvert_{(}-\lvert del(y)\rvert_{)}=0 $

    Pero esto por (3) del Lema 118 nos dice que $ del(x)=\varepsilon $. Similarmente obtenemos que $del(z)=\varepsilon $. Pero $\psi $ termina con $)$ lo cual nos dice que $z=\varepsilon $. Es decir que $ \varphi =x\psi $. Por el lema anterior tenemos que $x\in (\{\lnot \}\cup \{Qv:Q\in \{\forall ,\exists \}$ y $v\in Var\})^{\ast }$ $\Box$
  \end{proof}

  % Theorem 131. Con prueba. Lemma 41.
  \begin{theorem} \label{lemma_41}
    \PN \textbf{(Lectura única de fórmulas)} Dada $\varphi \in \FT$ se da una y solo una de las siguientes:
    \begin{enumerate}[(1)]
      \item $\varphi = (t \equiv s)$, con $t, s \in \TAU$
      \item $\varphi = r(t_{1}, \dotsc, t_{n})$, con $r \in \mathcal{R}_{n}, t_{1}, \dotsc, t_{n} \in \TAU$
      \item $\varphi = (\varphi_{1} \eta \varphi_{2})$, con $\eta \in \{\wedge, \vee, \rightarrow, \leftrightarrow\}, \
        \varphi_{1}, \varphi_{2} \in \FT$
      \item $\varphi = \lnot \varphi_{1}$, con $\varphi_{1} \in \FT$
      \item $\varphi = Qv \varphi_{1}$, con $Q \in \{\forall, \exists\}, \ \varphi_{1} \in \FT$ y $v \in Var$.
    \end{enumerate}

    \PN Más aún, en todos los puntos tales descomposiciones son únicas.
  \end{theorem}
  \begin{proof}
    \begin{enumerate}[(1)]
      \item
      \item
      \item
      \item
      \item
    \end{enumerate}

    Si una formula $\varphi $ satisface (1), entonces $\varphi $ no puede contener simbolos del alfabeto $\{\wedge ,\vee,
    \rightarrow ,\leftrightarrow \}$ lo cual garantiza que $\varphi $ no puede satisfacer (3). Ademas $ \varphi $ no
    puede satisfacer (2) o (4) o (5) ya que $\varphi $ comienza con $($. En forma analoga se puede terminar de ver que
    las propiedades (1), $\dotsc$,(5) son excluyentes.

    La unicidad en las descomposiciones de (4) y (5) es obvia. La de (3) se desprende facilmente del lema anterior y la de los puntos (1) y (2) del lema analogo para terminos. $\Box$
  \end{proof}

  % Lemma 132. Con prueba. Lemma 42.
  \begin{lemma} \label{lemma_42}
    \PN Sea $\tau$ un tipo.
    \begin{enumerate}[(a)]
      \item Las fórmulas atómicas no tienen subfórmulas propias.
      \item Si $\varphi$ ocurre propiamente en $(\psi \eta \varphi)$, entonces tal ocurrencia es en $\psi$ ó en
        $\varphi$.
      \item Si $\varphi$ ocurre propiamente en $\lnot \psi$, entonces tal ocurrencia es en $\psi$.
      \item Si $\varphi$ ocurre propiamente en $Qx_{k} \psi$, entonces tal ocurrencia es en $\psi$.
      \item Si $\varphi_{1}, \varphi_{2}$ ocurren en $\varphi$, entonces dichas ocurrencias son disjuntas o una contiene
        a la otra.
      \item Si $\lambda^{\prime}$ es el resultado de reemplazar alguna ocurrencia de $\varphi$ en $\lambda$ por $\psi$,
        entonces $\lambda^{\prime} \in \FT$.
    \end{enumerate}
  \end{lemma}
  \begin{proof}
    Ejercicio.
  \end{proof}
